# Arquitetura do Projeto ViralKids

## üèóÔ∏è Vis√£o Geral da Arquitetura

O projeto ViralKids segue os princ√≠pios de **Clean Architecture** e **SOLID**, organizando o c√≥digo em camadas bem definidas com responsabilidades claras.

## üìê Princ√≠pios Arquiteturais

### 1. Clean Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Presentation Layer                       ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Components    ‚îÇ  ‚îÇ     Pages       ‚îÇ  ‚îÇ     UI      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                    Business Logic Layer                     ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ     Hooks       ‚îÇ  ‚îÇ    Services     ‚îÇ  ‚îÇ   Utils     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                      Data Layer                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   API Calls     ‚îÇ  ‚îÇ State Management‚îÇ  ‚îÇ   Storage   ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. Princ√≠pios SOLID

#### Single Responsibility Principle (SRP)
- Cada componente tem uma √∫nica responsabilidade
- Hooks customizados para l√≥gica espec√≠fica
- Separa√ß√£o clara entre UI e l√≥gica de neg√≥cio

#### Open/Closed Principle (OCP)
- Componentes extens√≠veis via props
- Design system modular
- Estrutura preparada para extens√µes

#### Liskov Substitution Principle (LSP)
- Interfaces consistentes
- Props tipadas com TypeScript
- Substitui√ß√£o transparente

#### Interface Segregation Principle (ISP)
- Interfaces espec√≠ficas por contexto
- Props opcionais para flexibilidade
- Separa√ß√£o de responsabilidades

#### Dependency Inversion Principle (DIP)
- Depend√™ncias injetadas via props
- Abstra√ß√£o atrav√©s de hooks
- Invers√£o de controle

## üóÇÔ∏è Estrutura de Camadas

### Presentation Layer

Respons√°vel pela interface do usu√°rio e intera√ß√µes.

#### Componentes
```typescript
// Exemplo de componente seguindo os padr√µes
interface HeroProps {
  title: string;
  subtitle?: string;
  ctaText: string;
  onCtaClick: () => void;
}

export const Hero = ({ title, subtitle, ctaText, onCtaClick }: HeroProps) => {
  return (
    <section className="hero-section">
      <h1>{title}</h1>
      {subtitle && <p>{subtitle}</p>}
      <Button onClick={onCtaClick}>{ctaText}</Button>
    </section>
  );
};
```

#### P√°ginas
```typescript
// Exemplo de p√°gina
export const HomePage = () => {
  const { data: products } = useProducts();
  const { handleContact } = useContact();

  return (
    <Layout>
      <Hero 
        title="ViralKids"
        subtitle="Produtos infantis de qualidade"
        ctaText="Ver Produtos"
        onCtaClick={() => scrollToSection('products')}
      />
      <Products products={products} />
      <Contact onSubmit={handleContact} />
    </Layout>
  );
};
```

### Business Logic Layer

Cont√©m a l√≥gica de neg√≥cio e regras da aplica√ß√£o.

#### Hooks Customizados
```typescript
// Exemplo de hook customizado
export const useProducts = () => {
  const [products, setProducts] = useState<Product[]>([]);
  const [loading, setLoading] = useState(false);

  const fetchProducts = useCallback(async () => {
    setLoading(true);
    try {
      const data = await productService.getAll();
      setProducts(data);
    } catch (error) {
      console.error('Erro ao buscar produtos:', error);
    } finally {
      setLoading(false);
    }
  }, []);

  useEffect(() => {
    fetchProducts();
  }, [fetchProducts]);

  return { products, loading, refetch: fetchProducts };
};
```

#### Servi√ßos
```typescript
// Exemplo de servi√ßo
export class ProductService {
  private api: ApiClient;

  constructor(api: ApiClient) {
    this.api = api;
  }

  async getAll(): Promise<Product[]> {
    return this.api.get('/products');
  }

  async getById(id: string): Promise<Product> {
    return this.api.get(`/products/${id}`);
  }

  async create(product: CreateProductDto): Promise<Product> {
    return this.api.post('/products', product);
  }
}
```

### Data Layer

Gerencia dados, estado e comunica√ß√£o externa.

#### API Client
```typescript
// Exemplo de cliente API
export class ApiClient {
  private baseURL: string;

  constructor(baseURL: string) {
    this.baseURL = baseURL;
  }

  async get<T>(endpoint: string): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`);
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json();
  }

  async post<T>(endpoint: string, data: any): Promise<T> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data),
    });
    if (!response.ok) {
      throw new Error(`HTTP error! status: ${response.status}`);
    }
    return response.json();
  }
}
```

## üîÑ Fluxo de Dados

### Padr√£o Unidirecional
```
User Action ‚Üí Component ‚Üí Hook ‚Üí Service ‚Üí API ‚Üí Response ‚Üí State ‚Üí UI Update
```

### Exemplo Pr√°tico
```typescript
// 1. Usu√°rio clica no bot√£o
<Button onClick={handleAddToCart}>Adicionar ao Carrinho</Button>

// 2. Componente chama fun√ß√£o
const handleAddToCart = () => {
  addToCart(product);
};

// 3. Hook gerencia estado
const { addToCart } = useCart();

// 4. Servi√ßo processa l√≥gica
const addToCart = (product: Product) => {
  setCart(prev => [...prev, product]);
  cartService.add(product);
};

// 5. UI atualiza automaticamente
```

## üéØ Padr√µes de Design

### 1. Container/Presentational Pattern
```typescript
// Container (l√≥gica)
const ProductListContainer = () => {
  const { products, loading } = useProducts();
  const { addToCart } = useCart();

  return (
    <ProductList 
      products={products}
      loading={loading}
      onAddToCart={addToCart}
    />
  );
};

// Presentational (UI)
const ProductList = ({ products, loading, onAddToCart }: ProductListProps) => {
  if (loading) return <LoadingSpinner />;
  
  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
      {products.map(product => (
        <ProductCard 
          key={product.id}
          product={product}
          onAddToCart={() => onAddToCart(product)}
        />
      ))}
    </div>
  );
};
```

### 2. Custom Hook Pattern
```typescript
// Hook customizado para l√≥gica reutiliz√°vel
export const useLocalStorage = <T>(key: string, initialValue: T) => {
  const [storedValue, setStoredValue] = useState<T>(() => {
    try {
      const item = window.localStorage.getItem(key);
      return item ? JSON.parse(item) : initialValue;
    } catch (error) {
      console.error(error);
      return initialValue;
    }
  });

  const setValue = (value: T | ((val: T) => T)) => {
    try {
      const valueToStore = value instanceof Function ? value(storedValue) : value;
      setStoredValue(valueToStore);
      window.localStorage.setItem(key, JSON.stringify(valueToStore));
    } catch (error) {
      console.error(error);
    }
  };

  return [storedValue, setValue] as const;
};
```

### 3. Render Props Pattern
```typescript
// Componente com render props
interface DataFetcherProps<T> {
  url: string;
  children: (data: T | null, loading: boolean, error: Error | null) => React.ReactNode;
}

const DataFetcher = <T,>({ url, children }: DataFetcherProps<T>) => {
  const [data, setData] = useState<T | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<Error | null>(null);

  useEffect(() => {
    fetch(url)
      .then(res => res.json())
      .then(setData)
      .catch(setError)
      .finally(() => setLoading(false));
  }, [url]);

  return <>{children(data, loading, error)}</>;
};
```

## üîß Configura√ß√µes e Ferramentas

### TypeScript
- Configura√ß√£o estrita para type safety
- Interfaces bem definidas
- Generics para reutiliza√ß√£o

### ESLint
- Regras para manter qualidade do c√≥digo
- Integra√ß√£o com TypeScript
- Padr√µes consistentes

### Vite
- Build tool r√°pido
- Hot module replacement
- Otimiza√ß√µes autom√°ticas

## üìà Escalabilidade

### Prepara√ß√£o para Crescimento
1. **Modulariza√ß√£o**: Componentes independentes
2. **Lazy Loading**: Carregamento sob demanda
3. **Code Splitting**: Separa√ß√£o por rotas
4. **Caching**: Estrat√©gias de cache
5. **Performance**: Otimiza√ß√µes cont√≠nuas

### Estrutura para Expans√£o
```
src/
‚îú‚îÄ‚îÄ features/          # Funcionalidades espec√≠ficas
‚îÇ   ‚îú‚îÄ‚îÄ auth/         # Autentica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ products/     # Gest√£o de produtos
‚îÇ   ‚îú‚îÄ‚îÄ orders/       # Pedidos
‚îÇ   ‚îî‚îÄ‚îÄ admin/        # Painel administrativo
‚îú‚îÄ‚îÄ shared/           # Recursos compartilhados
‚îÇ   ‚îú‚îÄ‚îÄ components/   # Componentes reutiliz√°veis
‚îÇ   ‚îú‚îÄ‚îÄ hooks/        # Hooks compartilhados
‚îÇ   ‚îú‚îÄ‚îÄ utils/        # Utilit√°rios
‚îÇ   ‚îî‚îÄ‚îÄ types/        # Tipos TypeScript
‚îî‚îÄ‚îÄ core/             # N√∫cleo da aplica√ß√£o
    ‚îú‚îÄ‚îÄ api/          # Cliente API
    ‚îú‚îÄ‚îÄ store/        # Gerenciamento de estado
    ‚îî‚îÄ‚îÄ config/       # Configura√ß√µes
```

---

**Pr√≥ximos passos**: Implementar sistema de rotas, gerenciamento de estado global e integra√ß√£o com backend. 